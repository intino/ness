dsl Ness

Datalake(Month, path = "") dl
	Split("") Divisiones
		Split DA;Split DB;Split DC;Split DD;Split DF;Split DG;Split DJ;Split DK;Split DL;Split DM;Split DN;Split DP;Split DU;Split DV;Split DW;Split DX;
	Split asemed
	Tank example as Event(event = Example)
	Tank pagos as Transaction(pagos) Splitted(split = Divisiones)
	ProcessStatus(split = Divisiones)
	Backup
		Cron(pattern = "0 0 12 1/1 * ? *", timeZone = "Atlantic/Canary")

Broker(port = 63000, secondaryPort = 1884, path = "./broker")
	User(name = "user1", password = "1234")

//Event criterio
//	Attribute ts as Bool
//	Attribute value as Text
//	Attribute id as Integer
//Event criterioBorrado
//Event criterioModificado
//Event criterioSentencia
//Event ajuste
//
//Event cierreAjuste
//Event usuarioConectado
//Event usuarioDesconectado

Transaction  pagos
	Attribute a as Id(size = 48bits)
	Attribute z as LongInteger(size = 48bits)
	Attribute b as Integer
	Attribute c as DateTime
	Attribute d as Bool
	Attribute giro as Dimension(dimension = Giro)
	Attribute sector as Dimension(dimension = Sector)
	Attribute gestion as Dimension(dimension = Gestion)
	Attribute municipio as Dimension(dimension = Municipio)

Transaction ventas
	Attribute id as Id(size = 48bits)
	Attribute a as LongInteger(size = 48bits)
	Attribute z as LongInteger(size = 48bits)
	Attribute b as Integer
	Attribute c as DateTime
	Attribute d as Bool
	Attribute giro as Dimension(dimension = Giro)
	Attribute sector as Dimension(dimension = Sector)
	Attribute gestion as Dimension(dimension = Gestion)
	Attribute municipio as Dimension(dimension = Municipio)

Dimension Giro as Inline
	Category(1, label = "sss") Federal
	Category(2) Municipal
	Category(3) Estatal
	Category(4) ParaEstatal
	Category(5) Publico
Dimension Sector as Inline
	Category(1) Comercial
	Category(2) Agricola
	Category(3) Industrial
	Category(4) Alumbrado
	Category(5) Residencial
Dimension Gestion as Inline
	Category(1) Rezago
	Category(2) Convenio
	Category(3) Incobrable
	Category(4) Normal

Dimension Municipio as InResource(tsv = "municipios/Municipios.tsv")
	Attribute index as Integer
	Attribute name as Text
	Attribute extra1 as Real
	Attribute extra2 as Integer
	Attribute extra3 as LongInteger
	Attribute extra4 as Bool


Event Example
	Attribute name as Text
	Attribute names as Text List

Terminal first
	Publish(tanks = dl.example)
	Subscribe (tanks = dl.example)
